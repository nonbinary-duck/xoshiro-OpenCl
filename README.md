# xoshiro-OpenCL

A simple C++ CMake project with the xoshiro256** pseudo-random number generator implemented as an OpenCL kernel.

The program also displays some noise generated by xoshiro256** using the OpenCV library. (TODO)

The OpenCL C code was migrated using [David Blackman and Sebastiano Vigna's C code](https://prng.di.unimi.it/xoshiro256starstar.c) as a source.

## Compilation

In Linux cd to the project root and type `make`. This produces a binary file: `./build/release/xoshiro-opencl`.

The `make` command here is used to execute `cmake`. Run `make --dry-run` to see what it does.

The problem with using `make` this way, however, is that no arguments are passed to the execution of the CMake generated Makefile. Therefore compiler flags and miscellaneous arguments can be passed through a local config file. To create a local config file do `make config-make`. For help see `make help` (TODO).

This project has launch and build configs for vscode([-dium](https://github.com/VSCodium/vscodium)). So you can use the build menu (`ctrl+shift+b`) for a GUI experience.

### Dependencies

Requires OpenCL and optionally OpenCV (toggle the `#USE_OPENCV_STUFF` flag in the CMake file). If using OpenCV an image will print demonstrating the algorithm.

To install the dependencies, Aptitude can be used on debian and debian-derivative operating systems (e.g. Ubuntu and family).

There is an issue with my Ubuntu-derivative system and OpenCV where `/usr/include/opencv4/opencv2/...` headers include `#include "opencv2/<stuff>.hpp"` which GCC doesn't like. To fix this I used a symbolic link (i.e. `/usr/include/opencv2`).

The OpenCL SDK can also be compiled from source quite easily! See [Khronos Group's OpenCL Guide](https://github.com/KhronosGroup/OpenCL-Guide/blob/main/chapters/getting_started_linux.md) for more details.
